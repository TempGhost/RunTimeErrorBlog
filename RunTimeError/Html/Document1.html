   <!--<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title></title>
	<meta charset="utf-8" />
    <!--<link type="text/css"  href="../Css/Common.css" rel="stylesheet"/>
</head>
<body>-->

<div id="ContextBg" class="ContextForDoc">
    <!--<input  type="password"/>-->
    <div id="ContextHead">
        <h1 id="Tile">JS获取滚动条位置实际应用</h1>
    </div>
    <div class="Context">
        <div id="ContextDoc" >
            <p>js在不同浏览器中呢，获取滚动条位置的方法是不同的：</p>
            <p>在建设本网站的相册模块时，需要用到轮询滚动条的位置，以判断需不需要加载下一张图片。</p>
            <p>在IE浏览器下使用document.documentElement.scrollTop<br /></p>
            <p>
                在360极速模式下使用document.body.scrollTop。
            </p>
            <p>
                值得庆幸的是，在使用与浏览器不匹配的方法获取位置时会返回0。<br />
                所以在本网站的相册模块中，使用了三元运算符表达式来非常优雅的处理这个问题：
            </p>
            <p>
                如下：
            </p>
            <p>
            <p class="script">
            <p class="Note">
                //CurrMouseY：判断当前浏览中线位置<br />
                //CurrImgHeight：全局常量：值为当前相册每张图片的高度
            </p>
            <p>
                CurrMouseY = (document.documentElement.scrollTop > 0) ? document.documentElement.scrollTop * 2.6666 <font class="Note"> //IE mode this mothed return 0</font>
            </p>
            <p>
                :(document.body.scrollTop > 0) ? document.body.scrollTop * 2.6666 : 0; <font class="Note">  //  work in 360se Mode</font>
            </p>
            <p>
                console.log('documentElement:' + document.documentElement.scrollTop + "body:" + document.body.scrollTop + "scrollHeight:" + document.body.scrollHeight); <font class="Note"> //   document.body.scrollTop</font>
            </p>
            <p>
                CurrMouseY = CurrMouseY < CurrImgHeight ? CurrImgHeight : CurrMouseY;
            </p>

            <p>
                这里有一个神密常量2.6666。<br />
                这设计到相册加载下一张图片的逻辑。<br />
                当下标x张图片的一半进入浏览器时，则加载下标为x+1的图片。<br />
                这意味者我需要计算当前浏览器的底线位置与X张图片的中线位置。<br />
                由于每张图片的高度都是固定的，第X张图片的中线位置为x*CurrImgHeight -（CurrImgHeight/2）<br />
                因为在1920x1080分辨率下 有 滚动条到最底部的值/页面总高度 =2.666666666....<br />
                可以的出当前相对视窗当前页面的底线约等于滚动条的当前位置*2.6666666<br />
                暂时不知道在其他分辨率下比例关系是否一样，所以先写死。<br />
            </p>
        </div>
    </div>
</div>

<!--</body>
</html>-->
